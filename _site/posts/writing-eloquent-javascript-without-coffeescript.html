<!DOCTYPE html>
<html>
  <head>
    <title>OscarGodson.js | Writing Eloquent JavaScript Without CoffeeScript</title>
    <link href="/css/main.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <script type="text/javascript">var _gaq = _gaq || [];_gaq.push(['_setAccount', 'UA-4491651-1']);_gaq.push(['_trackPageview']);(function() {var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();</script>
  </head>
  <body>
    <div class="wrapper">
      <div class="container">
        <header>
          <a href="/"><h1>OscarGodson.js</h1></a>
        </header>
        <div class="left-col">
          <article id="content">
                        <h1>Writing Eloquent JavaScript Without CoffeeScript</h1>
            <p>CoffeeScript has been getting a lot of press and that's not a bad thing, but it's giving JavaScript a bad rap. I've heard amateur JavaScripters say things like "Finally! Nice looking JavaScript" and things like "CoffeeScript makes JavaScript understandable." I feel that's merely inaccurate due to a lack of knowledge on JavaScript. JavaScript can be pretty too and the examples on the CoffeeScript site are purposely written to be ugly to make CoffeeScript look even prettier.</p>
            <p>For example, on the CoffeeScript site JS arrays are written on a single line:</p>
            <pre class="javascript">contenders = ["Michael Phelps", "Liu Xiang", "Yao Ming", "Allyson Felix", "Shawn Johnson", "Roman Sebrle", "Guo Jingjing", "Tyson Gay", "Asafa Powell", "Usain Bolt"];</pre>

            <p>Then CoffeeScript shows it nicely put on multiple lines:</p>
<pre>contenders = [
  "Michael Phelps"
  "Liu Xiang"
  "Yao Ming"
  "Allyson Felix"
  "Shawn Johnson"
  "Roman Sebrle"
  "Guo Jingjing"
  "Tyson Gay"
  "Asafa Powell"
  "Usain Bolt"
]</pre>

            <p>Of course JavaScript is going to look awful if you purposely make it look like shit, but here are some ways to make your JavaScript much more eloquent without CoffeeScript.</p>
            <h2>Variables</h2>
            <p>I'd say that the number one thing that makes JavaScript look ugly is when people define lots of variables such as:</p>
<pre class="javascript">var a = 'b';
var foo = 'bar';
var lorem = 'ipsum';
var hello = 42</pre>

            <p>This can be written tho and look quite sexy like this:</p>
<pre class="javascript">var a = 'b'
,   foo = 'bar'
,   lorem = 'ipsum'
,   hello = 42</pre>

            <p>You could take this even further and line up the equal signs like so:</p>
<pre class="javascript">var a     = 'b'
,   foo   = 'bar'
,   lorem = 'ipsum'
,   hello =  42</pre>

            <p>Another cool thing that newbies don't know about is the <code>var = var || value</code> way of setting variables. You do this to set defaults inside of a function. So, instead of:</p>
<pre class="javascript">var func = function(param,attr){
  if(!param){ param = ''; }
  if(!attr) { attr = function(){}; }
  //Code...
}</pre>

            <p>You can do:</p>
<pre class="javascript">var func = function(param,attr){
  param = param || '';
  attr  = attr  || function(){};
  //Code...
}</pre>

            <h2>Conditionals</h2>
            <p>What's an app without conditionals? The only problem is I think they're one of the ugliest things, but again, there's a <em>much</em> cleaner way to write them. First, the normal way:</p>
<pre class="javascript">if(x == 1){
  alert(x);
}
else{
  alert('Error');
}</pre>

            <p>Yeah, pretty ugly and not very compact. You have six lines of code to do a basic "is x 1?". Now take a look at this:</p>
            <pre class="javascript">x == 1 ? alert(x) : alert('Error');</pre>

            <p>You can put this on multiple lines as well in case you had more code so you dont have a single line spanning a thousand characters wide:</p>
<pre class="javascript">x == 1
? alert(x)
: alert('Error')
;</pre>

            <p>But, what if you have more than just one line of code inside of the if/else? The syntax is a bit different. <strong>Do not use semicolons</strong> inside of the ternary (what this syntax is called) operator. Use commas like this:</p>
<pre class="javascript">x == 1
? alert(x) 
:(
   alert('Error'), 
   x = 1, 
   alert('All Fixed!')
);</pre>

            <h2>Strings</h2>
            <p>Strings in JavaScript are fine until you have multi-line strings and then they become sort of a pain. Hopefully, 99% of the time, you don't have massive multi-line strings in your JavaScript code and you're using JavaScript templates or something instead, but for those cases when you do want to use them instead of doing it as one line:</p>
            <pre class="javascript">var str = "First line goes here\nSecond line would go here\nand now the third!"</pre>

            <p>You could use this syntax:</p>
<pre class="javascript">var str = "First line goes here \
Second line would go here \
and now the third";</pre>

            <p>The last syntax is fine, but you can clean it up a bit more like:</p>
<pre class="javascript">var str = "\
First line goes here               \
Second line would go here          \
and now the third                  \
and hell, let's throw in this line \ 
while we're at it                  \
";</pre>

            <p>You should be aware though that Google and "X-Core" JavaScript elitist will give you shit for this because while this works, it's actually not part of EMCAScript and JavaScript engines just happen to all support it. Instead, they'll suggest, you do something like this:</p>
<pre class="javascript">var str = ""                         +
"First line goes here"               +
"Second line goes here"              +
"and now the third"                  +
"and hell, let's throw in this line" +
"while we're at it"                  +
"";</pre>

            <p>Either is fine in my opinion, but I prefer more the other simply because you dont have to do quotes on each new line.</p>
          
          </article>
        </div>
        <div class="right-col">
          <aside>
  <nav id="og-recent-posts">
    <h2>Recent Posts</h2>
    <ol></ol>
  </nav>
</aside>
<aside>
  <nav>
    <h2>Code</h2>
    <ol>
      <li><a href="http://github.com/OscarGodson/jKey">jKey</a></li>
      <li><a href="http://github.com/OscarGodson/Yodel">Yodel</a></li>
      <li><a href="http://github.com/OscarGodson/Core.js">Core.js</a></li>
      <li><a href="http://github.com/OscarGodson/jQuery-Plugin-Skeleton">jQuery-Plugin-Skeleton</a></li>
    </ol>
  </nav>
</aside>
        </div>
        <br class="clear">
         <footer>
          <p>&copy; Oscar Godson 2011 - &#8734; <span class="alt">Contact me:</span>
  <span class="icons">
    <a href="/contact-me.html"><img src="/images/email-16x16.png" alt="Contact me" title="Contact me"></a>
    <a href="http://twitter.com/oscargodson"><img src="/images/twitter-16x16.png" alt="Follow me on Twitter" title="Follow me on Twitter"></a>
    <a href="http://github.com/oscargodson"><img src="/images/github-16x16.png" alt="Follow me on GitHub" title="Follow me on GitHub"></a>
    <a href="https://plus.google.com/101249212022203738924/posts"><img src="/images/google+-16x16.png" alt="Circle me on G+" title="Cirlce me on G+"></a>
    <a href="http://stackoverflow.com/users/144833/oscar-godson"><img src="/images/stackoverflow-16x16.png" alt="Follow me on StackOverflow" title="Follow me on StackOverflow"></a>
  </span>
</p>
        </footer>
      </div>
    </div>
    <script src="/js/libs/libs.js"></script>
    <script src="/js/app.js"></script>
  </body>
</html>
